<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Sep 28, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>RAT (Release Audit Tool) results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120928" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                mongo-lucene
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-09-28</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0</span>
                      </div>
            <div class="xright">                    <a href="./" title="mongo-lucene">mongo-lucene</a>
              
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                          <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                        <li class="expanded">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                    <ul>
                      <li class="none">
                          <a href="pmd.html" title="PMD Report">PMD Report</a>
            </li>
                      <li class="none">
                          <a href="cpd.html" title="CPD Report">CPD Report</a>
            </li>
                      <li class="none">
                          <a href="xref/index.html" title="Source Xref">Source Xref</a>
            </li>
                      <li class="none">
                          <a href="xref-test/index.html" title="Test Source Xref">Test Source Xref</a>
            </li>
                      <li class="none">
                          <a href="findbugs.html" title="FindBugs Report">FindBugs Report</a>
            </li>
                      <li class="none">
            <strong>RAT Report</strong>
          </li>
              </ul>
        </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>RAT (Release Audit Tool) results<a name="RAT_Release_Audit_Tool_results"></a></h2><p>The following document contains the results of <a class="externalLink" href="http://incubator.apache.org/rat/apache-rat-plugin">RAT (Release Audit Tool)</a>.</p><p></p><div class="source"><pre>
*****************************************************
Summary
-------
Generated at: 2012-09-28T19:20:36+02:00
Notes: 1
Binaries: 9
Archives: 0
Standards: 45

Apache Licensed: 3
Generated Documents: 0

JavaDocs are generated and so license header is optional
Generated files do not required license headers

42 Unknown Licenses

*******************************

Unapproved licenses:

  .git/COMMIT_EDITMSG
  .git/config
  .git/description
  .git/HEAD
  .git/hooks/applypatch-msg.sample
  .git/hooks/commit-msg.sample
  .git/hooks/post-update.sample
  .git/hooks/pre-applypatch.sample
  .git/hooks/pre-commit.sample
  .git/hooks/pre-rebase.sample
  .git/hooks/prepare-commit-msg.sample
  .git/hooks/update.sample
  .git/info/exclude
  .git/logs/HEAD
  .git/logs/refs/heads/develop
  .git/logs/refs/heads/master
  .git/logs/refs/remotes/github/develop
  .git/logs/refs/remotes/github/master
  .git/logs/refs/remotes/origin/develop
  .git/logs/refs/remotes/origin/master
  .git/objects/84/193bf6aad3dbb50afb6a4314217ed73168299c
  .git/objects/9f/0fc218e1a4d3b59fc5570f827b1e9f020a5bd4
  .git/objects/a8/061f43417ce785f5299ce88cae4bf37188b563
  .git/refs/heads/develop
  .git/refs/heads/master
  .git/refs/remotes/github/develop
  .git/refs/remotes/github/master
  .git/refs/remotes/origin/develop
  .git/refs/remotes/origin/master
  .gitignore
  embedmongo.log
  mongovm/.gitignore
  mongovm/.vagrant
  mongovm/manifests/mongo.pp
  mongovm/Vagrantfile
  src/main/java/com/github/mongoutils/lucene/MapDirectory.java
  src/main/java/com/github/mongoutils/lucene/MapDirectoryEntry.java
  src/main/java/com/github/mongoutils/lucene/MapDirectoryEntrySerializer.java
  src/main/java/com/github/mongoutils/lucene/MapDirectoryInputStream.java
  src/main/java/com/github/mongoutils/lucene/MapDirectoryOutputStream.java
  src/test/java/com/github/mongoutils/lucene/AbstractMongoIT.java
  src/test/java/com/github/mongoutils/lucene/MapDirectoryIT.java

*******************************

Archives:

*****************************************************
  Files with Apache License headers will be marked AL
  Binary files (which do not require AL headers) will be marked B
  Compressed archives will be marked A
  Notices, licenses etc will be marked N
 !????? .git/COMMIT_EDITMSG
 !????? .git/config
 !????? .git/description
 !????? .git/HEAD
 !????? .git/hooks/applypatch-msg.sample
 !????? .git/hooks/commit-msg.sample
 !????? .git/hooks/post-update.sample
 !????? .git/hooks/pre-applypatch.sample
 !????? .git/hooks/pre-commit.sample
 !????? .git/hooks/pre-rebase.sample
 !????? .git/hooks/prepare-commit-msg.sample
 !????? .git/hooks/update.sample
  B     .git/index
 !????? .git/info/exclude
 !????? .git/logs/HEAD
 !????? .git/logs/refs/heads/develop
 !????? .git/logs/refs/heads/master
 !????? .git/logs/refs/remotes/github/develop
 !????? .git/logs/refs/remotes/github/master
 !????? .git/logs/refs/remotes/origin/develop
 !????? .git/logs/refs/remotes/origin/master
  B     .git/objects/35/26ce6eeef39c3a6613644112b022df243c5953
  B     .git/objects/60/f2b3a4a9e44d6717e4c6d550101f4fbcec6fde
  B     .git/objects/63/32a091868176135427039969cf62889b947d2f
  B     .git/objects/6c/35ae43abeb083a5d9915cfacda5d10790f1009
 !????? .git/objects/84/193bf6aad3dbb50afb6a4314217ed73168299c
  B     .git/objects/8b/7f144dd5f369e936b8df8743897518a957fcc1
  B     .git/objects/99/7e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0
 !????? .git/objects/9f/0fc218e1a4d3b59fc5570f827b1e9f020a5bd4
  B     .git/objects/9f/91110f651163fdc55d4aed845027eeccf14ac4
 !????? .git/objects/a8/061f43417ce785f5299ce88cae4bf37188b563
  B     .git/objects/c5/5f438e6f476ba11d3fcbf11bdbf8cacb105ce9
 !????? .git/refs/heads/develop
 !????? .git/refs/heads/master
 !????? .git/refs/remotes/github/develop
 !????? .git/refs/remotes/github/master
 !????? .git/refs/remotes/origin/develop
 !????? .git/refs/remotes/origin/master
 !????? .gitignore
  AL    codeFormat.xml
 !????? embedmongo.log
  N     license.txt
 !????? mongovm/.gitignore
 !????? mongovm/.vagrant
 !????? mongovm/manifests/mongo.pp
 !????? mongovm/Vagrantfile
  AL    pom.xml
  AL    README.md
 !????? src/main/java/com/github/mongoutils/lucene/MapDirectory.java
 !????? src/main/java/com/github/mongoutils/lucene/MapDirectoryEntry.java
 !????? src/main/java/com/github/mongoutils/lucene/MapDirectoryEntrySerializer.java
 !????? src/main/java/com/github/mongoutils/lucene/MapDirectoryInputStream.java
 !????? src/main/java/com/github/mongoutils/lucene/MapDirectoryOutputStream.java
 !????? src/test/java/com/github/mongoutils/lucene/AbstractMongoIT.java
 !????? src/test/java/com/github/mongoutils/lucene/MapDirectoryIT.java
 
 *****************************************************
 Printing headers for files without AL header...
 
 
 =======================================================================
 ==.git/COMMIT_EDITMSG
 =======================================================================
git ignore

 =======================================================================
 ==.git/config
 =======================================================================
[core]
	repositoryformatversion = 0
	filemode = false
	bare = false
	logallrefupdates = true
	symlinks = false
	ignorecase = true
	hideDotFiles = dotGitOnly
[remote &quot;origin&quot;]
	fetch = +refs/heads/*:refs/remotes/origin/*
	url = N:\\git\\mongoutils-mongo-lucene
[branch &quot;master&quot;]
	remote = origin
	merge = refs/heads/master
[remote &quot;github&quot;]
	url = git@github.com:mongoutils/mongo-lucene.git
	fetch = +refs/heads/*:refs/remotes/github/*
[branch &quot;develop&quot;]
	remote = origin
	merge = refs/heads/develop

 =======================================================================
 ==.git/description
 =======================================================================
Unnamed repository; edit this file 'description' to name the repository.

 =======================================================================
 ==.git/HEAD
 =======================================================================
ref: refs/heads/develop

 =======================================================================
 ==.git/hooks/applypatch-msg.sample
 =======================================================================
#!/bin/sh
#
# An example hook script to check the commit log message taken by
# applypatch from an e-mail message.
#
# The hook should exit with non-zero status after issuing an
# appropriate message if it wants to stop the commit.  The hook is
# allowed to edit the commit message file.
#
# To enable this hook, rename this file to &quot;applypatch-msg&quot;.

. git-sh-setup
test -x &quot;$GIT_DIR/hooks/commit-msg&quot; &amp;&amp;
	exec &quot;$GIT_DIR/hooks/commit-msg&quot; ${1+&quot;$@&quot;}
:

 =======================================================================
 ==.git/hooks/commit-msg.sample
 =======================================================================
#!/bin/sh
#
# An example hook script to check the commit log message.
# Called by &quot;git commit&quot; with one argument, the name of the file
# that has the commit message.  The hook should exit with non-zero
# status after issuing an appropriate message if it wants to stop the
# commit.  The hook is allowed to edit the commit message file.
#
# To enable this hook, rename this file to &quot;commit-msg&quot;.

# Uncomment the below to add a Signed-off-by line to the message.
# Doing this in a hook is a bad idea in general, but the prepare-commit-msg
# hook is more suited to it.
#
# SOB=$(git var GIT_AUTHOR_IDENT | sed -n 's/^\(.*&gt;\).*$/Signed-off-by: \1/p')
# grep -qs &quot;^$SOB&quot; &quot;$1&quot; || echo &quot;$SOB&quot; &gt;&gt; &quot;$1&quot;

# This example catches duplicate Signed-off-by lines.

test &quot;&quot; = &quot;$(grep '^Signed-off-by: ' &quot;$1&quot; |
	 sort | uniq -c | sed -e '/^[ 	]*1[ 	]/d')&quot; || {
	echo &gt;&amp;2 Duplicate Signed-off-by lines.
	exit 1
}

 =======================================================================
 ==.git/hooks/post-update.sample
 =======================================================================
#!/bin/sh
#
# An example hook script to prepare a packed repository for use over
# dumb transports.
#
# To enable this hook, rename this file to &quot;post-update&quot;.

exec git update-server-info

 =======================================================================
 ==.git/hooks/pre-applypatch.sample
 =======================================================================
#!/bin/sh
#
# An example hook script to verify what is about to be committed
# by applypatch from an e-mail message.
#
# The hook should exit with non-zero status after issuing an
# appropriate message if it wants to stop the commit.
#
# To enable this hook, rename this file to &quot;pre-applypatch&quot;.

. git-sh-setup
test -x &quot;$GIT_DIR/hooks/pre-commit&quot; &amp;&amp;
	exec &quot;$GIT_DIR/hooks/pre-commit&quot; ${1+&quot;$@&quot;}
:

 =======================================================================
 ==.git/hooks/pre-commit.sample
 =======================================================================
#!/bin/sh
#
# An example hook script to verify what is about to be committed.
# Called by &quot;git commit&quot; with no arguments.  The hook should
# exit with non-zero status after issuing an appropriate message if
# it wants to stop the commit.
#
# To enable this hook, rename this file to &quot;pre-commit&quot;.

if git rev-parse --verify HEAD &gt;/dev/null 2&gt;&amp;1
then
	against=HEAD
else
	# Initial commit: diff against an empty tree object
	against=4b825dc642cb6eb9a060e54bf8d69288fbee4904
fi

# If you want to allow non-ascii filenames set this variable to true.
allownonascii=$(git config hooks.allownonascii)

# Redirect output to stderr.
exec 1&gt;&amp;2

# Cross platform projects tend to avoid non-ascii filenames; prevent
# them from being added to the repository. We exploit the fact that the
# printable range starts at the space character and ends with tilde.
if [ &quot;$allownonascii&quot; != &quot;true&quot; ] &amp;&amp;
	# Note that the use of brackets around a tr range is ok here, (it's
	# even required, for portability to Solaris 10's /usr/bin/tr), since
	# the square bracket bytes happen to fall in the designated range.
	test $(git diff --cached --name-only --diff-filter=A -z $against |
	  LC_ALL=C tr -d '[ -~]\0' | wc -c) != 0
then
	echo &quot;Error: Attempt to add a non-ascii file name.&quot;
	echo
	echo &quot;This can cause problems if you want to work&quot;
	echo &quot;with people on other platforms.&quot;
	echo
	echo &quot;To be portable it is advisable to rename the file ...&quot;
	echo
	echo &quot;If you know what you are doing you can disable this&quot;
	echo &quot;check using:&quot;
	echo
	echo &quot;  git config hooks.allownonascii true&quot;
	echo
	exit 1
fi

# If there are whitespace errors, print the offending file names and fail.
exec git diff-index --check --cached $against --

 =======================================================================
 ==.git/hooks/pre-rebase.sample
 =======================================================================
#!/bin/sh
#
# Copyright (c) 2006, 2008 Junio C Hamano
#
# The &quot;pre-rebase&quot; hook is run just before &quot;git rebase&quot; starts doing
# its job, and can prevent the command from running by exiting with
# non-zero status.
#
# The hook is called with the following parameters:
#
# $1 -- the upstream the series was forked from.
# $2 -- the branch being rebased (or empty when rebasing the current branch).
#
# This sample shows how to prevent topic branches that are already
# merged to 'next' branch from getting rebased, because allowing it
# would result in rebasing already published history.

publish=next
basebranch=&quot;$1&quot;
if test &quot;$#&quot; = 2
then
	topic=&quot;refs/heads/$2&quot;
else
	topic=`git symbolic-ref HEAD` ||
	exit 0 ;# we do not interrupt rebasing detached HEAD
fi

case &quot;$topic&quot; in
refs/heads/??/*)
	;;
*)
	exit 0 ;# we do not interrupt others.
	;;
esac

# Now we are dealing with a topic branch being rebased
# on top of master.  Is it OK to rebase it?

# Does the topic really exist?
git show-ref -q &quot;$topic&quot; || {
	echo &gt;&amp;2 &quot;No such branch $topic&quot;
	exit 1
}

# Is topic fully merged to master?
not_in_master=`git rev-list --pretty=oneline ^master &quot;$topic&quot;`
if test -z &quot;$not_in_master&quot;
then
	echo &gt;&amp;2 &quot;$topic is fully merged to master; better remove it.&quot;
	exit 1 ;# we could allow it, but there is no point.

 =======================================================================
 ==.git/hooks/prepare-commit-msg.sample
 =======================================================================
#!/bin/sh
#
# An example hook script to prepare the commit log message.
# Called by &quot;git commit&quot; with the name of the file that has the
# commit message, followed by the description of the commit
# message's source.  The hook's purpose is to edit the commit
# message file.  If the hook fails with a non-zero status,
# the commit is aborted.
#
# To enable this hook, rename this file to &quot;prepare-commit-msg&quot;.

# This hook includes three examples.  The first comments out the
# &quot;Conflicts:&quot; part of a merge commit.
#
# The second includes the output of &quot;git diff --name-status -r&quot;
# into the message, just before the &quot;git status&quot; output.  It is
# commented because it doesn't cope with --amend or with squashed
# commits.
#
# The third example adds a Signed-off-by line to the message, that can
# still be edited.  This is rarely a good idea.

case &quot;$2,$3&quot; in
  merge,)
    /usr/bin/perl -i.bak -ne 's/^/# /, s/^# #/#/ if /^Conflicts/ .. /#/; print' &quot;$1&quot; ;;

# ,|template,)
#   /usr/bin/perl -i.bak -pe '
#      print &quot;\n&quot; . `git diff --cached --name-status -r`
#	 if /^#/ &amp;&amp; $first++ == 0' &quot;$1&quot; ;;

  *) ;;
esac

# SOB=$(git var GIT_AUTHOR_IDENT | sed -n 's/^\(.*&gt;\).*$/Signed-off-by: \1/p')
# grep -qs &quot;^$SOB&quot; &quot;$1&quot; || echo &quot;$SOB&quot; &gt;&gt; &quot;$1&quot;

 =======================================================================
 ==.git/hooks/update.sample
 =======================================================================
#!/bin/sh
#
# An example hook script to blocks unannotated tags from entering.
# Called by &quot;git receive-pack&quot; with arguments: refname sha1-old sha1-new
#
# To enable this hook, rename this file to &quot;update&quot;.
#
# Config
# ------
# hooks.allowunannotated
#   This boolean sets whether unannotated tags will be allowed into the
#   repository.  By default they won't be.
# hooks.allowdeletetag
#   This boolean sets whether deleting tags will be allowed in the
#   repository.  By default they won't be.
# hooks.allowmodifytag
#   This boolean sets whether a tag may be modified after creation. By default
#   it won't be.
# hooks.allowdeletebranch
#   This boolean sets whether deleting branches will be allowed in the
#   repository.  By default they won't be.
# hooks.denycreatebranch
#   This boolean sets whether remotely creating branches will be denied
#   in the repository.  By default this is allowed.
#

# --- Command line
refname=&quot;$1&quot;
oldrev=&quot;$2&quot;
newrev=&quot;$3&quot;

# --- Safety check
if [ -z &quot;$GIT_DIR&quot; ]; then
	echo &quot;Don't run this script from the command line.&quot; &gt;&amp;2
	echo &quot; (if you want, you could supply GIT_DIR then run&quot; &gt;&amp;2
	echo &quot;  $0 &lt;ref&gt; &lt;oldrev&gt; &lt;newrev&gt;)&quot; &gt;&amp;2
	exit 1
fi

if [ -z &quot;$refname&quot; -o -z &quot;$oldrev&quot; -o -z &quot;$newrev&quot; ]; then
	echo &quot;Usage: $0 &lt;ref&gt; &lt;oldrev&gt; &lt;newrev&gt;&quot; &gt;&amp;2
	exit 1
fi

# --- Config
allowunannotated=$(git config --bool hooks.allowunannotated)
allowdeletebranch=$(git config --bool hooks.allowdeletebranch)
denycreatebranch=$(git config --bool hooks.denycreatebranch)
allowdeletetag=$(git config --bool hooks.allowdeletetag)
allowmodifytag=$(git config --bool hooks.allowmodifytag)

 =======================================================================
 ==.git/info/exclude
 =======================================================================
# git ls-files --others --exclude-from=.git/info/exclude
# Lines that start with '#' are comments.
# For a project mostly in C, the following would be a good set of
# exclude patterns (uncomment them if you want to use them):
# *.[oa]
# *~

 =======================================================================
 ==.git/logs/HEAD
 =======================================================================
0000000000000000000000000000000000000000 997e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0 rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597376 +0200	commit (initial): readme
997e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0 997e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0 rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597439 +0200	checkout: moving from master to develop
997e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0 6c35ae43abeb083a5d9915cfacda5d10790f1009 rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597456 +0200	commit: project init
6c35ae43abeb083a5d9915cfacda5d10790f1009 60f2b3a4a9e44d6717e4c6d550101f4fbcec6fde rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597721 +0200	commit: git ignore

 =======================================================================
 ==.git/logs/refs/heads/develop
 =======================================================================
0000000000000000000000000000000000000000 997e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0 rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597439 +0200	branch: Created from master
997e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0 6c35ae43abeb083a5d9915cfacda5d10790f1009 rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597456 +0200	commit: project init
6c35ae43abeb083a5d9915cfacda5d10790f1009 60f2b3a4a9e44d6717e4c6d550101f4fbcec6fde rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597721 +0200	commit: git ignore

 =======================================================================
 ==.git/logs/refs/heads/master
 =======================================================================
0000000000000000000000000000000000000000 997e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0 rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597376 +0200	commit (initial): readme

 =======================================================================
 ==.git/logs/refs/remotes/github/develop
 =======================================================================
0000000000000000000000000000000000000000 6c35ae43abeb083a5d9915cfacda5d10790f1009 rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597482 +0200	update by push
6c35ae43abeb083a5d9915cfacda5d10790f1009 60f2b3a4a9e44d6717e4c6d550101f4fbcec6fde rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597738 +0200	update by push

 =======================================================================
 ==.git/logs/refs/remotes/github/master
 =======================================================================
0000000000000000000000000000000000000000 997e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0 rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597431 +0200	update by push

 =======================================================================
 ==.git/logs/refs/remotes/origin/develop
 =======================================================================
0000000000000000000000000000000000000000 6c35ae43abeb083a5d9915cfacda5d10790f1009 rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597461 +0200	update by push
6c35ae43abeb083a5d9915cfacda5d10790f1009 60f2b3a4a9e44d6717e4c6d550101f4fbcec6fde rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597721 +0200	update by push

 =======================================================================
 ==.git/logs/refs/remotes/origin/master
 =======================================================================
0000000000000000000000000000000000000000 997e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0 rstiller &lt;robert.stiller.mail@googlemail.com&gt; 1348597376 +0200	update by push

 =======================================================================
 ==.git/objects/84/193bf6aad3dbb50afb6a4314217ed73168299c
 =======================================================================
x?+)JMU06g040031Q?rut&#xf1;u&#xd5;&#xcb;MaX&#xc1;&amp;&#xef;&#xec;X&#xf3;&#xbc;&#xf5;&#xab;&#xe6;&#x153;?=&#xeb;&#xbc;??vlM??4??&#x203a;

 =======================================================================
 ==.git/objects/9f/0fc218e1a4d3b59fc5570f827b1e9f020a5bd4
 =======================================================================
x?K&#xca;&#xc9;OR01f&#xd0;&#xd7;+N-)&#xc9;&#xcc;K/&#xd6;&#xe7;&#xd2;/I,JO-?2&#xf4;&#x2019;s?&#x2039;&#x2039;??K2&#x20ac;&#xec;&#x201a;&#xa2;&#xfc;&#xac;&#xd4;&#xe4;?.?&#xa7;&#xb6;?&#xa5;

 =======================================================================
 ==.git/objects/a8/061f43417ce785f5299ce88cae4bf37188b563
 =======================================================================
x?K&#xca;&#xc9;OR02cPV&#xc8;&#xcd;&#xcf;K&#xcf;/-&#xc9;&#xcc;)&#xd6;?3usJ&#x201c;S&#xf3;R&#xb9;?&#xc5;v?&#xbc;

 =======================================================================
 ==.git/refs/heads/develop
 =======================================================================
60f2b3a4a9e44d6717e4c6d550101f4fbcec6fde

 =======================================================================
 ==.git/refs/heads/master
 =======================================================================
997e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0

 =======================================================================
 ==.git/refs/remotes/github/develop
 =======================================================================
60f2b3a4a9e44d6717e4c6d550101f4fbcec6fde

 =======================================================================
 ==.git/refs/remotes/github/master
 =======================================================================
997e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0

 =======================================================================
 ==.git/refs/remotes/origin/develop
 =======================================================================
60f2b3a4a9e44d6717e4c6d550101f4fbcec6fde

 =======================================================================
 ==.git/refs/remotes/origin/master
 =======================================================================
997e20e4ca608e55e78bfbb6cb37bdbfe97e8bf0

 =======================================================================
 ==.gitignore
 =======================================================================
/.settings/
/target/
/.classpath
/.project

 =======================================================================
 ==embedmongo.log
 =======================================================================
db level locking enabled: 1
[mongod error] note: noprealloc may hurt performance in many applications
[mongod output] Fri Sep 28 19:19:33 BackgroundJob starting: DataFileSync
[mongod output] Fri Sep 28 19:19:33 versionCmpTest passed
[mongod output] Fri Sep 28 19:19:33 versionArrayTest passed
[mongod output] Fri Sep 28 19:19:33 isInRangeTest passed
[mongod output] Fri Sep 28 19:19:33 shardObjTest passed
[mongod output] Fri Sep 28 19:19:33 shardKeyTest passed
[mongod output] Fri Sep 28 19:19:33 [initandlisten] MongoDB starting : pid=6856 port=27017 dbpath=D:\git\mongoutils-mongo-lucene\target\mongodb 64-bit host=pro-PC
[mongod output] Fri Sep 28 19:19:33 [initandlisten] 
[mongod output] Fri Sep 28 19:19:33 [initandlisten] ** NOTE: This is a development version (2.1.1) of MongoDB.
[mongod output] Fri Sep 28 19:19:33 [initandlisten] **       Not recommended for production.
[mongod output] Fri Sep 28 19:19:33 [initandlisten] 
[mongod output] Fri Sep 28 19:19:33 [initandlisten] db version v2.1.1, pdfile version 4.5
[mongod output] Fri Sep 28 19:19:33 [initandlisten] git version: 6c1c98b332a4ebe2604462ccbf9f1af475734460
[mongod output] Fri Sep 28 19:19:33 [initandlisten] build info: windows sys.getwindowsversion(major=6, minor=1, build=7601, platform=2, service_pack='Service Pack 1') BOOST_LIB_VERSION=1_49
[mongod output] Fri Sep 28 19:19:33 [initandlisten] options: { dbpath: &quot;D:\git\mongoutils-mongo-lucene\target\mongodb&quot;, noauth: true, nohttpinterface: true, nojournal: true, noprealloc: true, port: 27017, smallfiles: true, verbose: true }
[mongod output] Fri Sep 28 19:19:33 [initandlisten] opening db:  local
[mongod output] Fri Sep 28 19:19:33 [initandlisten] enter repairDatabases (to check pdfile version #)
[mongod output] Fri Sep 28 19:19:33 [initandlisten] done repairDatabases
[mongod output] Fri Sep 28 19:19:33 BackgroundJob starting: snapshot
[mongod output] Fri Sep 28 19:19:33 BackgroundJob starting: ClientCursorMonitor
[mongod output] Fri Sep 28 19:19:33 BackgroundJob starting: PeriodicTask::Runner
[mongod output] Fri Sep 28 19:19:33 [initandlisten] waiting for connections on port 27017
[mongod output] Fri Sep 28 19:19:33 [initandlisten] connection accepted from 127.0.0.1:63165 #1 (1 connection now open)
[mongod output] Fri Sep 28 19:19:33 [conn1] run command admin.$cmd { isMaster: 1 }
[mongod output] Fri Sep 28 19:19:33 [conn1] command admin.$cmd command: { isMaster: 1 } ntoreturn:1 keyUpdates:0 reslen:90 0ms
[mongod output] Fri Sep 28 19:19:33 [conn1] run command testdb.$cmd { dropDatabase: 1 }
[mongod output] Fri Sep 28 19:19:33 [conn1] opening db:  testdb
[mongod output] Fri Sep 28 19:19:33 [conn1] dropDatabase testdb
[mongod output] Fri Sep 28 19:19:33 [conn1] dropDatabase testdb
[mongod output] Fri Sep 28 19:19:33 [conn1] command testdb.$cmd command: { dropDatabase: 1 } ntoreturn:1 keyUpdates:0 reslen:57 0ms
[mongod output] Fri Sep 28 19:19:34 [conn1] run command testdb.$cmd { count: &quot;testcollection&quot;, query: {} }
[mongod output] Fri Sep 28 19:19:34 [conn1] opening db:  testdb
[mongod output] Fri Sep 28 19:19:34 [conn1] command testdb.$cmd command: { count: &quot;testcollection&quot;, query: {} } ntoreturn:1 keyUpdates:0 reslen:58 0ms
[mongod output] Fri Sep 28 19:19:34 [conn1] query testdb.testcollection ntoreturn:0 keyUpdates:0 nreturned:0 reslen:20 0ms
[mongod output] Fri Sep 28 19:19:34 [conn1] run command testdb.$cmd { count: &quot;testcollection&quot;, query: { key: &quot;segments.gen&quot; } }
[mongod output] Fri Sep 28 19:19:34 [conn1] command testdb.$cmd command: { count: &quot;testcollection&quot;, query: { key: &quot;segments.gen&quot; } } ntoreturn:1 keyUpdates:0 reslen:58 0ms
[mongod output] Fri Sep 28 19:19:34 [conn1] run command testdb.$cmd { count: &quot;testcollection&quot;, query: {} }
[mongod output] Fri Sep 28 19:19:34 [conn1] command testdb.$cmd command: { count: &quot;testcollection&quot;, query: {} } ntoreturn:1 keyUpdates:0 reslen:58 0ms
[mongod output] Fri Sep 28 19:19:34 [conn1] query testdb.testcollection ntoreturn:0 keyUpdates:0 nreturned:0 reslen:20 0ms
[mongod output] Fri Sep 28 19:19:34 [conn1] run command testdb.$cmd { count: &quot;testcollection&quot;, query: { key: &quot;segments.gen&quot; } }
[mongod output] Fri Sep 28 19:19:34 [conn1] command testdb.$cmd command: { count: &quot;testcollection&quot;, query: { key: &quot;segments.gen&quot; } } ntoreturn:1 keyUpdates:0 reslen:58 0ms
[mongod output] Fri Sep 28 19:19:34 [conn1] run command testdb.$cmd { count: &quot;testcollection&quot;, query: {} }
[mongod output] Fri Sep 28 19:19:34 [conn1] command testdb.$cmd command: { count: &quot;testcollection&quot;, query: {} } ntoreturn:1 keyUpdates:0 reslen:58 0ms
[mongod output] Fri Sep 28 19:19:34 [conn1] query testdb.testcollection ntoreturn:0 keyUpdates:0 nreturned:0 reslen:20 0ms
[mongod output] Fri Sep 28 19:19:34 [conn1] query testdb.testcollection query: { key: &quot;_0.fdt&quot; } ntoreturn:1 keyUpdates:0 nreturned:0 reslen:20 1ms
[mongod output] Fri Sep 28 19:19:34 [conn1] allocExtent testdb.testcollection size 7424 0
[mongod output] Fri Sep 28 19:19:34 [conn1] adding _id index for collection testdb.testcollection
[mongod output] Fri Sep 28 19:19:34 [conn1] allocExtent testdb.system.indexes size 4352 0

 =======================================================================
 ==mongovm/.gitignore
 =======================================================================
/*.vagrant

 =======================================================================
 ==mongovm/.vagrant
 =======================================================================
{&quot;active&quot;:{&quot;mongo&quot;:&quot;baa62dd9-fdd2-4328-b274-baa232ac62e2&quot;}}

 =======================================================================
 ==mongovm/manifests/mongo.pp
 =======================================================================
# http://docs.puppetlabs.com/references/latest/type.html

Exec { path =&gt; [&quot;/bin/&quot;, &quot;/sbin/&quot;, &quot;/usr/bin/&quot;, &quot;/usr/sbin/&quot;, &quot;/usr/local/bin&quot;] }
File { owner =&gt; 0, group =&gt; 0, mode =&gt; 0644 }

class apt {
    file {&quot;/etc/apt/sources.list.d/10gen.list&quot;:
        content =&gt; &quot;deb http://downloads-distro.mongodb.org/repo/debian-sysvinit dist 10gen&quot;
    }
	exec {&quot;apt-get_update&quot;:
        command =&gt; &quot;apt-get update&quot;,
        require =&gt; File[&quot;/etc/apt/sources.list.d/10gen.list&quot;]
    }
}

class ssh {
    package { &quot;openssh-server&quot;:
        ensure =&gt; present,
        require =&gt; Class[&quot;apt&quot;]
    }
}

class git {
    package { &quot;git&quot;:
        ensure =&gt; present,
        require =&gt; Class[&quot;apt&quot;]
    }
}

class mongo {
    exec { &quot;mongodb20-10gen&quot;:
        require =&gt; Class[&quot;apt&quot;],
        command =&gt; &quot;apt-get -y -q --force-yes install mongodb20-10gen&quot;
    }
    service { &quot;mongod&quot;:
        ensure =&gt; running,
        require =&gt; Exec[&quot;mongodb20-10gen&quot;]
    }
}

include apt
include git
include ssh
include mongo

 =======================================================================
 ==mongovm/Vagrantfile
 =======================================================================
# -*- mode: ruby -*-
# vi: set ft=ruby :

Vagrant::Config.run do |config|
  
  config.vm.box = &quot;precise64&quot;
  config.vm.box_url = 'http://dl.dropbox.com/u/937870/VMs/squeeze64.box'

  config.vm.define :mongo do |mongo_config|
      mongo_config.vm.forward_port 27017, 27017
      mongo_config.vm.provision :puppet do |puppet|
      puppet.manifests_path = &quot;manifests&quot;
      puppet.manifest_file = &quot;mongo.pp&quot;
      puppet.module_path = &quot;modules&quot;
      puppet.options = [
          '--verbose',
          #'--debug',
      ]
    end
  end
  
end

 =======================================================================
 ==src/main/java/com/github/mongoutils/lucene/MapDirectory.java
 =======================================================================
package com.github.mongoutils.lucene;

import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.concurrent.ConcurrentMap;

import org.apache.lucene.store.Directory;
import org.apache.lucene.store.IndexInput;
import org.apache.lucene.store.IndexOutput;
import org.apache.lucene.store.SingleInstanceLockFactory;

public class MapDirectory extends Directory {
    
    public static final int DEFAULT_BUFFER_SIZE = 512;
    
    ConcurrentMap&lt;String, MapDirectoryEntry&gt; store;
    int bufferSize;
    
    public MapDirectory(final ConcurrentMap&lt;String, MapDirectoryEntry&gt; store) throws IOException {
        this(store, DEFAULT_BUFFER_SIZE);
    }
    
    public MapDirectory(final ConcurrentMap&lt;String, MapDirectoryEntry&gt; store, final int bufferSize) throws IOException {
        this.store = store;
        this.bufferSize = bufferSize;
        setLockFactory(new SingleInstanceLockFactory());
    }
    
    public ConcurrentMap&lt;String, MapDirectoryEntry&gt; getStore() {
        return store;
    }
    
    @Override
    public String[] listAll() throws IOException {
        String[] files = new String[store.size()];
        int index = 0;
        
        for (String file : store.keySet()) {
            files[index++] = file;
        }
        
        return files;
    }
    
    @Override
    public boolean fileExists(final String name) throws IOException {
        return store.containsKey(name);
    }
    
    @Override

 =======================================================================
 ==src/main/java/com/github/mongoutils/lucene/MapDirectoryEntry.java
 =======================================================================
package com.github.mongoutils.lucene;

import java.util.ArrayList;
import java.util.List;

public class MapDirectoryEntry {
    
    List&lt;byte[]&gt; buffers = new ArrayList&lt;byte[]&gt;();
    int bufferSize;
    long length;
    long lastModified = System.currentTimeMillis();
    
    public int getBufferSize() {
        return bufferSize;
    }
    
    public void setBufferSize(final int bufferSize) {
        this.bufferSize = bufferSize;
    }
    
    public long getLength() {
        return length;
    }
    
    protected void setLength(final long length) {
        this.length = length;
    }
    
    public long getLastModified() {
        return lastModified;
    }
    
    protected void setLastModified(final long lastModified) {
        this.lastModified = lastModified;
    }
    
    protected byte[] addBuffer(final int size) {
        byte[] buffer = new byte[size];
        buffers.add(buffer);
        return buffer;
    }
    
    protected byte[] getBuffer(final int index) {
        return buffers.get(index);
    }
    
    protected int numBuffers() {
        return buffers.size();
    }
    

 =======================================================================
 ==src/main/java/com/github/mongoutils/lucene/MapDirectoryEntrySerializer.java
 =======================================================================
package com.github.mongoutils.lucene;

import java.util.List;

import com.github.mongoutils.collections.DBObjectSerializer;
import com.mongodb.BasicDBObject;
import com.mongodb.BasicDBObjectBuilder;
import com.mongodb.DBObject;

public class MapDirectoryEntrySerializer implements DBObjectSerializer&lt;MapDirectoryEntry&gt; {
    
    private static final String BUFFERS = &quot;buffers&quot;;
    private static final String BUFFER_SIZE = &quot;bufferSize&quot;;
    private static final String LENGTH = &quot;length&quot;;
    private static final String LAST_MODIFIED = &quot;lastModified&quot;;
    
    String field;
    
    public MapDirectoryEntrySerializer(final String field) {
        this.field = field;
    }
    
    @Override
    public DBObject toDBObject(final MapDirectoryEntry element, final boolean equalFunctions, final boolean negate) {
        BasicDBObjectBuilder builder = new BasicDBObjectBuilder();
        DBObject dbObject;
        
        builder.append(LAST_MODIFIED, element.getLastModified());
        builder.append(LENGTH, element.getLength());
        builder.append(BUFFER_SIZE, element.getBufferSize());
        builder.append(BUFFERS, element.getBuffers());
        dbObject = builder.get();
        
        if (equalFunctions &amp;&amp; negate) {
            dbObject = new BasicDBObject(&quot;$ne&quot;, dbObject);
        }
        
        if (field != null) {
            dbObject = new BasicDBObject(field, dbObject);
        }
        
        return dbObject;
    }
    
    @Override
    @SuppressWarnings(&quot;unchecked&quot;)
    public MapDirectoryEntry toElement(final DBObject dbObject) {
        Object tmp = field == null ? dbObject : dbObject.get(field);
        MapDirectoryEntry file = new MapDirectoryEntry();
        

 =======================================================================
 ==src/main/java/com/github/mongoutils/lucene/MapDirectoryInputStream.java
 =======================================================================
package com.github.mongoutils.lucene;

import java.io.EOFException;
import java.io.IOException;

import org.apache.lucene.store.IndexInput;
import org.apache.lucene.store.IndexOutput;

public class MapDirectoryInputStream extends IndexInput {
    
    MapDirectoryEntry file;
    byte[] currentBuffer;
    int bufferLength;
    int bufferPosition;
    int currentBufferIndex;
    long bufferStart;
    long length;
    
    public MapDirectoryInputStream(final String name, final MapDirectoryEntry file) throws IOException {
        super(name);
        this.file = file;
        length = file.length;
        if (length / file.getBufferSize() &gt;= Integer.MAX_VALUE) {
            throw new IOException(&quot;MapDirectoryInputStream too large length=&quot; + length + &quot;: &quot; + name);
        }
        
        currentBufferIndex = -1;
        currentBuffer = null;
    }
    
    @Override
    public void close() {
    }
    
    @Override
    public long length() {
        return length;
    }
    
    @Override
    public byte readByte() throws IOException {
        if (bufferPosition &gt;= bufferLength) {
            currentBufferIndex++;
            switchCurrentBuffer(true);
        }
        return currentBuffer[bufferPosition++];
    }
    
    @Override
    public void readBytes(final byte[] b, int offset, int len) throws IOException {

 =======================================================================
 ==src/main/java/com/github/mongoutils/lucene/MapDirectoryOutputStream.java
 =======================================================================
package com.github.mongoutils.lucene;

import java.io.IOException;
import java.util.concurrent.ConcurrentMap;

import org.apache.lucene.store.DataInput;
import org.apache.lucene.store.IndexOutput;

public class MapDirectoryOutputStream extends IndexOutput {
    
    boolean dirty;
    byte[] currentBuffer;
    int bufferLength;
    int bufferPosition;
    int bufferSize;
    int currentBufferIndex;
    long bufferStart;
    ConcurrentMap&lt;String, MapDirectoryEntry&gt; map;
    MapDirectoryEntry file;
    String name;
    
    public MapDirectoryOutputStream(final MapDirectoryEntry f,
            final String name,
            final ConcurrentMap&lt;String, MapDirectoryEntry&gt; map,
            final int bufferSize) {
        file = f;
        this.name = name;
        this.map = map;
        this.bufferSize = bufferSize;
        
        currentBufferIndex = -1;
        currentBuffer = null;
    }
    
    public void writeTo(final IndexOutput out) throws IOException {
        flush();
        final long end = file.length;
        long pos = 0;
        int buffer = 0;
        while (pos &lt; end) {
            int length = bufferSize;
            long nextPos = pos + length;
            if (nextPos &gt; end) {
                length = (int) (end - pos);
            }
            out.writeBytes(file.getBuffer(buffer++), length);
            pos = nextPos;
        }
        dirty = true;
    }

 =======================================================================
 ==src/test/java/com/github/mongoutils/lucene/AbstractMongoIT.java
 =======================================================================
package com.github.mongoutils.lucene;

import org.junit.After;
import org.junit.Before;

import com.mongodb.DB;
import com.mongodb.DBCollection;
import com.mongodb.Mongo;
import com.mongodb.MongoOptions;

public abstract class AbstractMongoIT {

    protected Mongo mongo;
    protected DB db;
    protected DBCollection dbCollection;

    @Before
    public void createMongo() throws Exception {
        MongoOptions options = new MongoOptions();
        mongo = new Mongo(&quot;localhost&quot;, options);
        mongo.dropDatabase(&quot;testdb&quot;);
        db = mongo.getDB(&quot;testdb&quot;);
        dbCollection = db.getCollection(&quot;testcollection&quot;);
    }

    @After
    public void closeMongo() {
        db.dropDatabase();
        mongo.close();
    }

}

 =======================================================================
 ==src/test/java/com/github/mongoutils/lucene/MapDirectoryIT.java
 =======================================================================
package com.github.mongoutils.lucene;

import static org.junit.Assert.assertEquals;

import java.io.IOException;
import java.util.concurrent.ConcurrentMap;

import org.apache.lucene.analysis.standard.StandardAnalyzer;
import org.apache.lucene.document.Document;
import org.apache.lucene.document.Field;
import org.apache.lucene.index.IndexReader;
import org.apache.lucene.index.IndexWriter;
import org.apache.lucene.index.IndexWriterConfig;
import org.apache.lucene.queryParser.QueryParser;
import org.apache.lucene.search.IndexSearcher;
import org.apache.lucene.search.Query;
import org.apache.lucene.search.TopScoreDocCollector;
import org.apache.lucene.store.Directory;
import org.apache.lucene.util.Version;
import org.junit.Before;
import org.junit.Test;

import com.github.mongoutils.collections.DBObjectSerializer;
import com.github.mongoutils.collections.MongoConcurrentMap;
import com.github.mongoutils.collections.SimpleFieldDBObjectSerializer;

public class MapDirectoryIT extends AbstractMongoIT {
    
    Directory dir;
    ConcurrentMap&lt;String, MapDirectoryEntry&gt; store;
    
    @Override
    @Before
    public void createMongo() throws Exception {
        super.createMongo();
        
        DBObjectSerializer&lt;String&gt; keySerializer = new SimpleFieldDBObjectSerializer&lt;String&gt;(&quot;key&quot;);
        DBObjectSerializer&lt;MapDirectoryEntry&gt; valueSerializer = new MapDirectoryEntrySerializer(&quot;value&quot;);
        
        store = new MongoConcurrentMap&lt;String, MapDirectoryEntry&gt;(dbCollection, keySerializer, valueSerializer);
        dir = new MapDirectory(store);
    }
    
    @Test
    public void indexWorkspace() throws Exception {
        StandardAnalyzer analyser = new StandardAnalyzer(Version.LUCENE_36);
        IndexWriter w = new IndexWriter(dir, new IndexWriterConfig(Version.LUCENE_36, analyser));
        
        addDoc(w, &quot;A Directory is a flat list of files. Files may be written once,&quot;);
        addDoc(w, &quot;when they are created. Once a file is created it may only be opened for read,&quot;);
</pre></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                   2012.
          All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
